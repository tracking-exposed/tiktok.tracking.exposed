---
title: Evidence collection page
subtitle: Do not share this link! Only you have access to it.
date: 2021-09-10T05:01:21+01:00
draft: false
extraCSS: "/css/personal.css"
type: app 
---

<!--

<h3>Collected data from your browser extension</h3>
<div class="row" id="counters">
    <div class="col-4">
        <div class="counter--entry" id="total--htmls">
        </div>
        Total HTML snapshot
    </div>
    <div class="col-4">
        <div class="counter--entry" id="total--metadata">
        </div>
        metadata extracted ( <i>following, foryou</i> )
    </div>
    <div class="col-4">
        <div class="counter--entry" id="total--full">
        </div>
        Total <b>full dump</b>
    </div>
</div>
-->

<hr/>
<div class="row" id="counters">
  <div class="col-6">
  <h3>
    <span class="feed--name">
        For You
    </span> feed, CSV
    <button id="foryou--csv" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall" tabindex="0" type="button" title="Download CSV">
    <span class="MuiIconButton-label">
        <svg class="MuiSvgIcon-root MuiSvgIcon-colorError" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
        <path
            d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4 4-4h-2.55z"
        ></path>
        </svg>
    </span>
    <span class="MuiTouchRipple-root"></span>
    </button>
  </h3></div>

  <div class="col-6">
  <h3>
    <span class="feed--name">
        Following
    </span> feed, CSV
    <button id="following--csv" class="MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeSmall" tabindex="0" type="button" title="Download CSV">
    <span class="MuiIconButton-label">
        <svg class="MuiSvgIcon-root MuiSvgIcon-colorError" focusable="false" viewBox="0 0 24 24" aria-hidden="true">
        <path
            d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4 4-4h-2.55z"
        ></path>
        </svg>
    </span>
    <span class="MuiTouchRipple-root"></span>
    </button>
  </h3></div>
</div>

<hr/>
<h3>Recorded Searches, click on query to compare</h3>
<div id="searches--list" class="taboule-container">
    <span>Taboule here</span>
</div>

<!--
<hr/>
<h3>Other recorded activities</h3>
<div id="metadata--list" class="taboule-container"></div>
-->

<!--
<link href="/css/c3.min.css" rel="stylesheet">
<script src="/js/d3.min.js"></script>
<script src="/js/c3.min.js"></script>
-->

<script type="text/javascript" src="/js/global.js"></script>
<script type="text/javascript" src="/js/personal.js"></script>
<script type="text/javascript" src="/js/generated/taboule.js"></script>
<script type="text/javascript">

  const t = window.location.href.split('/#').pop();
  if(t.length !== 44 ) {
    console.log("Wrong token length in the URL", t.length);
    $("#counters").hide();
    $("h3").text("Missing key in the URL; The browser extension generates automatically an access key the first time you access to tiktok.com from this browser.");
  }
  else {

    $("#foryou--csv").on('click', function() {
        const csvurl = buildApiUrl('personal', t + '/foryou/csv', 2);
        window.location = csvurl;
    });
    $("#following--csv").on('click', function() {
        const csvurl = buildApiUrl('personal', t + '/following/csv', 2);
        window.location = csvurl;
    });

    const baseURL = (window.location.origin.match(/localhost/)) ?
        'http://localhost:14000/api' : "/api";

    /*
    window.Taboule({
        showInput: true,
        node: document.getElementById('metadata--list'),
        baseURL,
        query: "tikTokPersonalMetadataSummary",
        pageSize: 25,
        initialParams: {
            publicKey: t,
        },
    }); */

    window.Taboule({
        showInput: true,
        node: document.getElementById('searches--list'),
        baseURL,
        query: "tikTokSearches",
        pageSize: 25,
        initialParams: {
            publicKey: t,
        },
    });
  }
</script>
